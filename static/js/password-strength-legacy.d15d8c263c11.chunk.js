System.register(["./vendor-legacy.39ec95964c16.chunk.js","./index-legacy.1ec4e27de5d0.js"],(function(e,t){"use strict";var n,r,a,o,u,i,c,l,s,p,d,f,v,y,h,b,g,m,O;return{setters:[e=>{n=e.r,r=e.bl,a=e.bm,o=e.a9,u=e.n,i=e.j,c=e.be,l=e.bn,s=e.b9,p=e.i,d=e.F,f=e.bo,v=e.bp,y=e.an,h=e.bq,b=e.b0},e=>{g=e.f,m=e.d,O=e.I}],execute:function(){var t={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}(n),r=["placeholder","separator","isLastChild","ariaLabelOverride","shouldRender","inputStyle","focus","isDisabled","hasErrored","errorStyle","isSuccessed","successStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure","onSubmit"];function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var b=function(e){return"object"===h(e)},g=function(e){s(a,e);var n=d(a);function a(e){var r;return i(this,a),y(f(r=n.call(this,e)),"getClasses",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!b(e)&&!1!==e})).join(" ")})),y(f(r),"getType",(function(){var e=r.props,t=e.isInputSecure,n=e.isInputNum;return t?"password":n?"tel":"text"})),y(f(r),"getAriaLabel",(function(e,t){var n=r.props.ariaLabelOverride;return n||"".concat(0===e?"Please enter verification code. ":"").concat(t?"Digit":"Character"," ").concat(e+1)})),r.input=t.default.createRef(),r}return l(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.focus,n=e.shouldAutoFocus,r=this.input.current;r&&t&&n&&r.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.props.focus,n=this.input.current;e.focus!==t&&n&&t&&(n.focus(),n.select())}},{key:"render",value:function(){var e=this.props,n=e.placeholder,a=e.separator,i=e.isLastChild;e.ariaLabelOverride;var c=e.shouldRender,l=e.inputStyle,s=e.focus,p=e.isDisabled,d=e.hasErrored,f=e.errorStyle,v=e.isSuccessed,y=e.successStyle,h=e.focusStyle,g=e.disabledStyle;e.shouldAutoFocus;var m=e.isInputNum,O=e.index,I=e.value,S=e.className;e.isInputSecure,e.onSubmit;var w=u(e,r);return t.default.createElement("div",{className:S,style:{display:"flex",alignItems:"center"}},t.default.createElement("input",o({"aria-label":this.getAriaLabel(O,m),style:Object.assign({width:"1em",textAlign:"center",padding:0},b(l)&&l,s&&b(h)&&h,p&&b(g)&&g,d&&!v&&b(f)&&f,v&&!d&&b(y)&&y),placeholder:n,className:this.getClasses(l,s&&h,p&&g,d&&!v&&f,v&&!d&&y),type:this.getType(),ref:this.input,disabled:p,value:I||""},w)),!i&&c&&a)}}]),a}(t.PureComponent),m=function(e){s(r,e);var n=d(r);function r(){var e;i(this,r);for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return y(f(e=n.call.apply(n,[this].concat(u))),"state",{activeInput:0}),y(f(e),"getOtpValue",(function(){return e.props.value?e.props.value.toString().split(""):[]})),y(f(e),"getPlaceholderValue",(function(){var t=e.props,n=t.placeholder,r=t.numInputs;if("string"==typeof n){if(n.length===r)return n;n.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}})),y(f(e),"handleOtpChange",(function(t){(0,e.props.onChange)(t.join(""))})),y(f(e),"isInputValueValid",(function(t){return(e.props.isInputNum?!isNaN(parseInt(t,10)):"string"==typeof t)&&1===t.trim().length})),y(f(e),"focusInput",(function(t){var n=e.props.numInputs,r=Math.max(Math.min(n-1,t),0);e.setState({activeInput:r})})),y(f(e),"focusNextInput",(function(){var t=e.state.activeInput;e.focusInput(t+1)})),y(f(e),"focusPrevInput",(function(){var t=e.state.activeInput;e.focusInput(t-1)})),y(f(e),"changeCodeAtFocus",(function(t){var n=e.state.activeInput,r=e.getOtpValue();r[n]=t[0],e.handleOtpChange(r)})),y(f(e),"handleOnPaste",(function(t){t.preventDefault();var n=e.state.activeInput,r=e.props,a=r.numInputs;if(!r.isDisabled){for(var o=e.getOtpValue(),u=n,i=t.clipboardData.getData("text/plain"),c=(e.props.isInputNum?i.replace(/\D/g,""):i).slice(0,a-n).split(""),l=0;l<a;++l)l>=n&&c.length>0&&(o[l]=c.shift(),u++);e.setState({activeInput:u},(function(){e.focusInput(u),e.handleOtpChange(o)}))}})),y(f(e),"handleOnChange",(function(t){var n=t.target.value;e.isInputValueValid(n)&&e.changeCodeAtFocus(n)})),y(f(e),"handleOnKeyDown",(function(t){8===t.keyCode||"Backspace"===t.key?(t.preventDefault(),e.changeCodeAtFocus(""),e.focusInput(e.state.activeInput-1)):46===t.keyCode||"Delete"===t.key?(t.preventDefault(),e.changeCodeAtFocus("")):37===t.keyCode||"ArrowLeft"===t.key?(t.preventDefault(),e.focusPrevInput()):39===t.keyCode||"ArrowRight"===t.key?(t.preventDefault(),e.focusNextInput()):32===t.keyCode||" "===t.key||"Spacebar"===t.key||"Space"===t.key?t.preventDefault():13!==t.keyCode&&"Enter"!==t.key||e.props.onSubmit()})),y(f(e),"handleOnInput",(function(t){var n=t.target.value;if(t.target.value)if(t.target.value&&t.target.value.length>1){t.preventDefault();for(var r=e.props.numInputs,a=e.state.activeInput,o=e.getOtpValue(),u=t.target.value.slice(0,r-a).split(""),i=0;i<r;++i)i>=a&&u.length>0&&(o[i]=u.shift());e.handleOtpChange(o),e.focusInput(e.props.numInputs)}else if(n&&n.trim().length>1)t.clipboardData={getData:function(){return n.trim()}},e.handleOnPaste(t);else if(e.isInputValueValid(t.target.value))e.focusNextInput();else if(!e.props.isInputNum){var c=t.nativeEvent;null===c.data&&"deleteContentBackward"===c.inputType&&(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}})),y(f(e),"renderInputs",(function(){for(var n=e.state.activeInput,r=e.props,a=r.id,u=r.autoComplete,i=r.numInputs,c=r.inputStyle,l=r.focusStyle,s=r.separator,p=r.separateAfter,d=void 0===p?1:p,f=r.isDisabled,v=r.disabledStyle,y=r.hasErrored,h=r.errorStyle,b=r.isSuccessed,m=r.successStyle,O=r.shouldAutoFocus,I=r.isInputNum,S=r.isInputSecure,w=r.className,k=r.inputProps,j=r.onSubmit,x=[],P=e.getOtpValue(),_=e.getPlaceholderValue(),E=e.props["data-cy"],C=e.props["data-testid"],D=e.props["custom-test-attr"],A=e.props["custom-test-id"],N=function(r){var p=void 0;p=(r+1)%parseInt(d)==0;var N={};D&&(N[D]=A&&"".concat(A,"-").concat(r));var R={};k&&(Array.isArray(k)?k[r]&&(R=k[r]):R=k),x.push(t.default.createElement(g,o({id:a&&"".concat(a,"-").concat(r),autoComplete:null!=u?u:"off",placeholder:_&&_[r],key:r,index:r,focus:n===r,value:P&&P[r],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(t){e.setState({activeInput:r}),t.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:s,inputStyle:c,focusStyle:l,isLastChild:r===i-1,isDisabled:f,disabledStyle:v,hasErrored:y,errorStyle:h,isSuccessed:b,successStyle:m,shouldAutoFocus:O,isInputNum:I,isInputSecure:S,className:w,"data-cy":E&&"".concat(E,"-").concat(r),"data-testid":C&&"".concat(C,"-").concat(r),shouldRender:p,onSubmit:j},R,N)))},R=0;R<i;R++)N(R);return x})),e}return l(r,[{key:"componentDidUpdate",value:function(){var e=this.props.value,t=this.state.activeInput;""==e&&t>0&&this.setState({activeInput:0})}},{key:"render",value:function(){var e=this.props.containerStyle;return t.default.createElement("div",{style:Object.assign({display:"flex"},b(e)&&e),className:b(e)?"":e},this.renderInputs())}}]),r}(t.Component);y(m,"defaultProps",{numInputs:4,onChange:function(e){return console.log(e)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1,onSubmit:function(e){return console.log(e)}});var O=m;e.default=O}(t),e("O",r(t));var I={},S=a&&a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),w=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),k=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&S(t,e,n);return w(t,e),t};Object.defineProperty(I,"__esModule",{value:!0}),I.useTurnstile=void 0;const j=k(n),x="undefined"!=typeof globalThis?globalThis:window;let P,_,E=void 0!==x.turnstile?"ready":"unloaded";const C=new Promise(((e,t)=>{_={resolve:e,reject:t},"ready"===E&&e(void 0)}));{const e="cf__reactTurnstileOnLoad",t="https://challenges.cloudflare.com/turnstile/v0/api.js";P=()=>{if("unloaded"===E){E="loading",x[e]=()=>{_.resolve(),E="ready",delete x[e]};const n=`${t}?onload=${e}&render=explicit`,r=document.createElement("script");r.src=n,r.async=!0,r.addEventListener("error",(()=>{_.reject("Failed to load Turnstile."),delete x[e]})),document.head.appendChild(r)}return C}}var D=I.default=function({id:e,className:t,style:n,sitekey:r,action:a,cData:o,theme:u,language:i,tabIndex:c,responseField:l,responseFieldName:s,size:p,fixedSize:d,retry:f,retryInterval:v,refreshExpired:y,appearance:h,execution:b,userRef:g,onVerify:m,onLoad:O,onError:I,onExpire:S,onTimeout:w,onAfterInteractive:k,onBeforeInteractive:x,onUnsupported:_}){const C=(0,j.useRef)(null),D=(0,j.useState)({onVerify:m,onLoad:O,onError:I,onExpire:S,onTimeout:w,onAfterInteractive:k,onBeforeInteractive:x,onUnsupported:_})[0],A=null!=g?g:C;return(0,j.useEffect)((()=>{if(!A.current)return;let e=!1,t="";return(async()=>{var n,d;if("ready"!==E)try{await P()}catch(O){return void(null===(n=D.onError)||void 0===n||n.call(D,O))}if(e||!A.current)return;let g;const m={sitekey:r,action:a,cData:o,theme:u,language:i,tabindex:c,"response-field":l,"response-field-name":s,size:p,retry:f,"retry-interval":v,"refresh-expired":y,appearance:h,execution:b,callback:e=>{var t;return null===(t=D.onVerify)||void 0===t?void 0:t.call(D,e,g)},"error-callback":e=>{var t;return null===(t=D.onError)||void 0===t?void 0:t.call(D,e,g)},"expired-callback":e=>{var t;return null===(t=D.onExpire)||void 0===t?void 0:t.call(D,e,g)},"timeout-callback":()=>{var e;return null===(e=D.onTimeout)||void 0===e?void 0:e.call(D,g)},"after-interactive-callback":()=>{var e;return null===(e=D.onAfterInteractive)||void 0===e?void 0:e.call(D,g)},"before-interactive-callback":()=>{var e;return null===(e=D.onBeforeInteractive)||void 0===e?void 0:e.call(D,g)},"unsupported-callback":()=>{var e;return null===(e=D.onUnsupported)||void 0===e?void 0:e.call(D,g)}};t=window.turnstile.render(A.current,m),g=function(e){return{execute:t=>window.turnstile.execute(e,t),reset:()=>window.turnstile.reset(e),getResponse:()=>window.turnstile.getResponse(e),isExpired:()=>window.turnstile.isExpired(e)}}(t),null===(d=D.onLoad)||void 0===d||d.call(D,t,g)})(),()=>{e=!0,t&&window.turnstile.remove(t)}}),[r,a,o,u,i,c,l,s,p,f,v,y,h,b]),(0,j.useEffect)((()=>{D.onVerify=m,D.onLoad=O,D.onError=I,D.onExpire=S,D.onTimeout=w,D.onAfterInteractive=k,D.onBeforeInteractive=x,D.onUnsupported=_}),[m,O,I,S,w,k,x,_]),j.default.createElement("div",{ref:A,id:e,className:t,style:d?{...null!=n?n:{},width:"compact"===p?"130px":"300px",height:"compact"===p?"120px":"65px"}:n})};I.useTurnstile=function(){const[e,t]=(0,j.useState)(E);return(0,j.useEffect)((()=>{"ready"!==E&&C.then((()=>t(E)))}),[]),x.turnstile};const A=({email:e})=>{const{data:t}=m(),[n,{isLoading:r}]=g(),{enqueueSnackbar:a}=o(),{t:I}=u(),[S,w]=s.useState(!1);return p(d,{children:[i(c,{position:"end",children:i(O,{"aria-label":"send email code",onClick:()=>w(!0),edge:"end",color:"secondary",disabled:r,children:i(l,{})})}),p(f,{open:S,onClose:()=>w(!1),children:[i(v,{children:i(y,{i18nKey:"auth.captcha.title",children:"Captcha"})}),i(h,{children:i(D,{sitekey:t?.recaptcha_site_key,onVerify:t=>{n({email:e,recaptcha_data:t}).unwrap().then((()=>{a(I("auth.captcha.success"),{variant:"success"}),b.event("send_email_verify",{category:"auth",label:"send_email_verify",email:e,success:!0})})).catch((t=>{console.error(t),a(I("auth.captcha.error"),{variant:"error"}),b.event("send_email_verify",{category:"auth",label:"send_email_verify",email:e,success:!1,error:t})})).finally((()=>{w(!1)}))},onError:()=>{a(I("auth.captcha.error"),{variant:"error"})}})})]})]})};e("S",(({email:e})=>{const[t,{isLoading:n}]=g(),{data:r}=m(),{enqueueSnackbar:a}=o(),{t:s}=u(),p=()=>{console.log("send email code"),t({email:e}).unwrap().then((()=>{a(s("auth.captcha.success"),{variant:"success"})})).catch((e=>{console.error(e),a(s("auth.captcha.error"),{variant:"error"})}))};return 1===r?.is_recaptcha?i(A,{email:e}):i(c,{position:"end",children:i(O,{"aria-label":"send email code",onClick:p,edge:"end",color:"secondary",disabled:n,children:i(l,{})})})})),e("a",(e=>e<2?{label:"Poor",color:"error.main"}:e<3?{label:"Weak",color:"warning.main"}:e<4?{label:"Normal",color:"warning.dark"}:e<5?{label:"Good",color:"success.main"}:e<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"})),e("s",(e=>{let t=0;return e.length>5&&(t+=1),e.length>7&&(t+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(t+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(t+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(t+=1),t}))}}}));
